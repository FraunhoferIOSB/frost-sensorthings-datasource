{"version":3,"sources":["jsonpath.js"],"names":["push","arr","item","slice","unshift","JSONPath","opts","expr","obj","callback","otherTypeCallback","e","avoidNew","value","objArgs","hasOwnProp","call","json","path","resultType","toLowerCase","flatten","wrap","sandbox","preventEval","parent","parentProperty","Error","autostart","ret","evaluate","NewError","globalEval","eval","supportsNodeVM","module","Boolean","exports","navigator","product","allowedResultTypes","Object","prototype","hasOwnProperty","moveToAnotherArray","source","target","conditionCb","il","length","i","splice","vm","require","runInNewContext","context","keys","funcs","key","code","reduce","s","func","fString","toString","exec","vr","JSON","stringify","replace","m","name","that","currParent","currParentProperty","currResultType","currPreventEval","currSandbox","currOtherTypeCallback","Array","isArray","toPathString","includes","undefined","_obj","exprList","toPathArray","shift","_hasParentSelector","result","_trace","filter","ea","isParentSelector","_getPreferredOutput","rslt","valOrPath","concat","TypeError","pointer","toPointer","_handleCallback","fullRetObj","type","preferredOutput","val","parentPropName","literalPriority","retObj","loc","x","addRet","elems","forEach","t","_walk","l","v","p","par","pr","cb","test","_slice","indexOf","_eval","addType","valueType","isFinite","Number","locProp","parts","split","part","rett","tmp","tl","tt","f","n","len","step","parseInt","start","end","Math","max","min","_v","_vname","_$_parentProperty","_$_parent","_$_property","_$_path","match","_$_v","console","log","message","cache","pathArr","subx","normalized","$0","$1","prop","ups","join","map","exp"],"mappings":"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","file":"jsonpath.js","sourcesContent":["/* eslint-disable no-eval, jsdoc/check-types */\n\n// Todo: Reenable jsdoc/check-types once PR merged: https://github.com/gajus/eslint-plugin-jsdoc/pull/270\nconst globalEval = eval;\n// eslint-disable-next-line import/no-commonjs\nconst supportsNodeVM = typeof module !== 'undefined' && Boolean(module.exports) &&\n    !(typeof navigator !== 'undefined' && navigator.product === 'ReactNative');\nconst allowedResultTypes = ['value', 'path', 'pointer', 'parent', 'parentProperty', 'all'];\nconst {hasOwnProperty: hasOwnProp} = Object.prototype;\n\n/**\n* @typedef {null|boolean|number|string|PlainObject|GenericArray} JSONObject\n*/\n\n/**\n* @callback ConditionCallback\n* @param item\n* @returns {boolean}\n*/\n\n/**\n * Copy items out of one array into another.\n * @param {Array} source Array with items to copy\n * @param {Array} target Array to which to copy\n * @param {ConditionCallback} conditionCb Callback passed the current item; will move\n *     item if evaluates to `true`\n * @returns {undefined}\n */\nconst moveToAnotherArray = function (source, target, conditionCb) {\n    const il = source.length;\n    for (let i = 0; i < il; i++) {\n        const item = source[i];\n        if (conditionCb(item)) {\n            target.push(source.splice(i--, 1)[0]);\n        }\n    }\n};\n\nconst vm = supportsNodeVM\n    ? require('vm')\n    : {\n        /**\n         * @param {string} expr Expression to evaluate\n         * @param {PlainObject} context Object whose items will be added to evaluation\n         * @returns {Any} Result of evaluated code\n         */\n        runInNewContext (expr, context) {\n            const keys = Object.keys(context);\n            const funcs = [];\n            moveToAnotherArray(keys, funcs, (key) => {\n                return typeof context[key] === 'function';\n            });\n            const code = funcs.reduce((s, func) => {\n                let fString = context[func].toString();\n                if (!(/function/).exec(fString)) {\n                    fString = 'function ' + fString;\n                }\n                return 'var ' + func + '=' + fString + ';' + s;\n            }, '') + keys.reduce((s, vr) => {\n                return 'var ' + vr + '=' + JSON.stringify(context[vr]).replace(\n                    // http://www.thespanner.co.uk/2011/07/25/the-json-specification-is-now-wrong/\n                    /\\u2028|\\u2029/g, (m) => {\n                        return '\\\\u202' + (m === '\\u2028' ? '8' : '9');\n                    }\n                ) + ';' + s;\n            }, expr);\n            return globalEval(code);\n        }\n    };\n\n/**\n * Copies array and then pushes item into it.\n * @param {Array} arr Array to copy and into which to push\n * @param {Any} item Array item to add (to end)\n * @returns {Array} Copy of the original array\n */\nfunction push (arr, item) {\n    arr = arr.slice();\n    arr.push(item);\n    return arr;\n}\n/**\n * Copies array and then unshifts item into it.\n * @param {Any} item Array item to add (to beginning)\n * @param {Array} arr Array to copy and into which to unshift\n * @returns {Array} Copy of the original array\n */\nfunction unshift (item, arr) {\n    arr = arr.slice();\n    arr.unshift(item);\n    return arr;\n}\n\n/**\n * Caught when JSONPath is used without `new` but rethrown if with `new`\n * @extends Error\n */\nclass NewError extends Error {\n    /**\n     * @param {Any} value The evaluated scalar value\n     */\n    constructor (value) {\n        super('JSONPath should not be called with \"new\" (it prevents return of (unwrapped) scalar values)');\n        this.avoidNew = true;\n        this.value = value;\n        this.name = 'NewError';\n    }\n}\n\n/**\n* @typedef {PlainObject} ReturnObject\n* @property {string} path\n* @property {JSONObject} value\n* @property {PlainObject|GenericArray} parent\n* @property {string} parentProperty\n*/\n\n/**\n* @callback JSONPathCallback\n* @param {string|PlainObject} preferredOutput\n* @param {\"value\"|\"property\"} type\n* @param {ReturnObject} fullRetObj\n*/\n\n/**\n* @callback OtherTypeCallback\n* @param {JSONObject} val\n* @param {string} path\n* @param {PlainObject|GenericArray} parent\n* @param {string} parentPropName\n*/\n\n/**\n * @param {PlainObject} [opts] If present, must be an object\n * @param {string} expr JSON path to evaluate\n * @param {JSON} obj JSON object to evaluate against\n * @param {JSONPathCallback} callback Passed 3 arguments: 1) desired payload per `resultType`,\n *     2) `\"value\"|\"property\"`, 3) Full returned object with all payloads\n * @param {OtherTypeCallback} otherTypeCallback If `@other()` is at the end of one's query, this\n *  will be invoked with the value of the item, its path, its parent, and its parent's\n *  property name, and it should return a boolean indicating whether the supplied value\n *  belongs to the \"other\" type or not (or it may handle transformations and return `false`).\n * @returns {JSONPath}\n * @class\n */\nfunction JSONPath (opts, expr, obj, callback, otherTypeCallback) {\n    // eslint-disable-next-line no-restricted-syntax\n    if (!(this instanceof JSONPath)) {\n        try {\n            return new JSONPath(opts, expr, obj, callback, otherTypeCallback);\n        } catch (e) {\n            if (!e.avoidNew) {\n                throw e;\n            }\n            return e.value;\n        }\n    }\n\n    if (typeof opts === 'string') {\n        otherTypeCallback = callback;\n        callback = obj;\n        obj = expr;\n        expr = opts;\n        opts = {};\n    }\n    opts = opts || {};\n    const objArgs = hasOwnProp.call(opts, 'json') && hasOwnProp.call(opts, 'path');\n    this.json = opts.json || obj;\n    this.path = opts.path || expr;\n    this.resultType = (opts.resultType && opts.resultType.toLowerCase()) || 'value';\n    this.flatten = opts.flatten || false;\n    this.wrap = hasOwnProp.call(opts, 'wrap') ? opts.wrap : true;\n    this.sandbox = opts.sandbox || {};\n    this.preventEval = opts.preventEval || false;\n    this.parent = opts.parent || null;\n    this.parentProperty = opts.parentProperty || null;\n    this.callback = opts.callback || callback || null;\n    this.otherTypeCallback = opts.otherTypeCallback || otherTypeCallback || function () {\n        throw new Error('You must supply an otherTypeCallback callback option with the @other() operator.');\n    };\n\n    if (opts.autostart !== false) {\n        const ret = this.evaluate({\n            path: (objArgs ? opts.path : expr),\n            json: (objArgs ? opts.json : obj)\n        });\n        if (!ret || typeof ret !== 'object') {\n            throw new NewError(ret);\n        }\n        return ret;\n    }\n}\n\n// PUBLIC METHODS\nJSONPath.prototype.evaluate = function (expr, json, callback, otherTypeCallback) {\n    const that = this;\n    let currParent = this.parent,\n        currParentProperty = this.parentProperty;\n    let {flatten, wrap} = this;\n\n    this.currResultType = this.resultType;\n    this.currPreventEval = this.preventEval;\n    this.currSandbox = this.sandbox;\n    callback = callback || this.callback;\n    this.currOtherTypeCallback = otherTypeCallback || this.otherTypeCallback;\n\n    json = json || this.json;\n    expr = expr || this.path;\n    if (expr && typeof expr === 'object') {\n        if (!expr.path) {\n            throw new Error('You must supply a \"path\" property when providing an object argument to JSONPath.evaluate().');\n        }\n        json = hasOwnProp.call(expr, 'json') ? expr.json : json;\n        flatten = hasOwnProp.call(expr, 'flatten') ? expr.flatten : flatten;\n        this.currResultType = hasOwnProp.call(expr, 'resultType') ? expr.resultType : this.currResultType;\n        this.currSandbox = hasOwnProp.call(expr, 'sandbox') ? expr.sandbox : this.currSandbox;\n        wrap = hasOwnProp.call(expr, 'wrap') ? expr.wrap : wrap;\n        this.currPreventEval = hasOwnProp.call(expr, 'preventEval') ? expr.preventEval : this.currPreventEval;\n        callback = hasOwnProp.call(expr, 'callback') ? expr.callback : callback;\n        this.currOtherTypeCallback = hasOwnProp.call(expr, 'otherTypeCallback') ? expr.otherTypeCallback : this.currOtherTypeCallback;\n        currParent = hasOwnProp.call(expr, 'parent') ? expr.parent : currParent;\n        currParentProperty = hasOwnProp.call(expr, 'parentProperty') ? expr.parentProperty : currParentProperty;\n        expr = expr.path;\n    }\n    currParent = currParent || null;\n    currParentProperty = currParentProperty || null;\n\n    if (Array.isArray(expr)) {\n        expr = JSONPath.toPathString(expr);\n    }\n    if (!expr || !json || !allowedResultTypes.includes(this.currResultType)) {\n        return undefined;\n    }\n    this._obj = json;\n\n    const exprList = JSONPath.toPathArray(expr);\n    if (exprList[0] === '$' && exprList.length > 1) { exprList.shift(); }\n    this._hasParentSelector = null;\n    const result = this\n        ._trace(exprList, json, ['$'], currParent, currParentProperty, callback)\n        .filter(function (ea) { return ea && !ea.isParentSelector; });\n\n    if (!result.length) { return wrap ? [] : undefined; }\n    if (result.length === 1 && !wrap && !Array.isArray(result[0].value)) {\n        return this._getPreferredOutput(result[0]);\n    }\n    return result.reduce(function (rslt, ea) {\n        const valOrPath = that._getPreferredOutput(ea);\n        if (flatten && Array.isArray(valOrPath)) {\n            rslt = rslt.concat(valOrPath);\n        } else {\n            rslt.push(valOrPath);\n        }\n        return rslt;\n    }, []);\n};\n\n// PRIVATE METHODS\n\nJSONPath.prototype._getPreferredOutput = function (ea) {\n    const resultType = this.currResultType;\n    switch (resultType) {\n    default:\n        throw new TypeError('Unknown result type');\n    case 'all':\n        ea.pointer = JSONPath.toPointer(ea.path);\n        ea.path = typeof ea.path === 'string' ? ea.path : JSONPath.toPathString(ea.path);\n        return ea;\n    case 'value': case 'parent': case 'parentProperty':\n        return ea[resultType];\n    case 'path':\n        return JSONPath.toPathString(ea[resultType]);\n    case 'pointer':\n        return JSONPath.toPointer(ea.path);\n    }\n};\n\nJSONPath.prototype._handleCallback = function (fullRetObj, callback, type) {\n    if (callback) {\n        const preferredOutput = this._getPreferredOutput(fullRetObj);\n        fullRetObj.path = typeof fullRetObj.path === 'string'\n            ? fullRetObj.path\n            : JSONPath.toPathString(fullRetObj.path);\n        // eslint-disable-next-line callback-return\n        callback(preferredOutput, type, fullRetObj);\n    }\n};\n\n/**\n *\n * @param {string} expr\n * @param {JSONObject} val\n * @param {string} path\n * @param {PlainObject|GenericArray} parent\n * @param {string} parentPropName\n * @param {JSONPathCallback} callback\n * @param {boolean} literalPriority\n * @returns {ReturnObject|ReturnObject[]}\n */\nJSONPath.prototype._trace = function (\n    expr, val, path, parent, parentPropName, callback, literalPriority\n) {\n    // No expr to follow? return path and value as the result of this trace branch\n    let retObj;\n    const that = this;\n    if (!expr.length) {\n        retObj = {path, value: val, parent, parentProperty: parentPropName};\n        this._handleCallback(retObj, callback, 'value');\n        return retObj;\n    }\n\n    const loc = expr[0], x = expr.slice(1);\n\n    // We need to gather the return value of recursive trace calls in order to\n    // do the parent sel computation.\n    const ret = [];\n    /**\n     *\n     * @param {ReturnObject|ReturnObject[]} elems\n     * @returns {void}\n     */\n    function addRet (elems) {\n        if (Array.isArray(elems)) {\n            // This was causing excessive stack size in Node (with or without Babel) against our performance test: `ret.push(...elems);`\n            elems.forEach((t) => {\n                ret.push(t);\n            });\n        } else {\n            ret.push(elems);\n        }\n    }\n\n    if ((typeof loc !== 'string' || literalPriority) && val &&\n        hasOwnProp.call(val, loc)\n    ) { // simple case--directly follow property\n        addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback));\n    } else if (loc === '*') { // all child properties\n        // eslint-disable-next-line no-shadow\n        this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, x, v, p, par, pr, cb) {\n            addRet(that._trace(unshift(m, x), v, p, par, pr, cb, true));\n        });\n    } else if (loc === '..') { // all descendent parent properties\n        addRet(this._trace(x, val, path, parent, parentPropName, callback)); // Check remaining expression with val's immediate children\n        // eslint-disable-next-line no-shadow\n        this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, x, v, p, par, pr, cb) {\n            // We don't join m and x here because we only want parents, not scalar values\n            if (typeof v[m] === 'object') { // Keep going with recursive descent on val's object children\n                addRet(that._trace(unshift(l, x), v[m], push(p, m), v, m, cb));\n            }\n        });\n    // The parent sel computation is handled in the frame above using the\n    // ancestor object of val\n    } else if (loc === '^') {\n        // This is not a final endpoint, so we do not invoke the callback here\n        this._hasParentSelector = true;\n        return path.length\n            ? {\n                path: path.slice(0, -1),\n                expr: x,\n                isParentSelector: true\n            }\n            : [];\n    } else if (loc === '~') { // property name\n        retObj = {path: push(path, loc), value: parentPropName, parent, parentProperty: null};\n        this._handleCallback(retObj, callback, 'property');\n        return retObj;\n    } else if (loc === '$') { // root only\n        addRet(this._trace(x, val, path, null, null, callback));\n    } else if ((/^(-?\\d*):(-?\\d*):?(\\d*)$/).test(loc)) { // [start:end:step]  Python slice syntax\n        addRet(this._slice(loc, x, val, path, parent, parentPropName, callback));\n    } else if (loc.indexOf('?(') === 0) { // [?(expr)] (filtering)\n        if (this.currPreventEval) {\n            throw new Error('Eval [?(expr)] prevented in JSONPath expression.');\n        }\n        // eslint-disable-next-line no-shadow\n        this._walk(loc, x, val, path, parent, parentPropName, callback, function (m, l, x, v, p, par, pr, cb) {\n            if (that._eval(l.replace(/^\\?\\((.*?)\\)$/, '$1'), v[m], m, p, par, pr)) {\n                addRet(that._trace(unshift(m, x), v, p, par, pr, cb));\n            }\n        });\n    } else if (loc[0] === '(') { // [(expr)] (dynamic property/index)\n        if (this.currPreventEval) {\n            throw new Error('Eval [(expr)] prevented in JSONPath expression.');\n        }\n        // As this will resolve to a property name (but we don't know it yet), property and parent information is relative to the parent of the property to which this expression will resolve\n        addRet(this._trace(unshift(\n            this._eval(loc, val, path[path.length - 1], path.slice(0, -1), parent, parentPropName),\n            x\n        ), val, path, parent, parentPropName, callback));\n    } else if (loc[0] === '@') { // value type: @boolean(), etc.\n        let addType = false;\n        const valueType = loc.slice(1, -2);\n        switch (valueType) {\n        default:\n            throw new TypeError('Unknown value type ' + valueType);\n        case 'scalar':\n            if (!val || !(['object', 'function'].includes(typeof val))) {\n                addType = true;\n            }\n            break;\n        case 'boolean': case 'string': case 'undefined': case 'function':\n            if (typeof val === valueType) { // eslint-disable-line valid-typeof\n                addType = true;\n            }\n            break;\n        case 'number':\n            if (typeof val === valueType && isFinite(val)) { // eslint-disable-line valid-typeof\n                addType = true;\n            }\n            break;\n        case 'nonFinite':\n            if (typeof val === 'number' && !isFinite(val)) {\n                addType = true;\n            }\n            break;\n        case 'object':\n            if (val && typeof val === valueType) { // eslint-disable-line valid-typeof\n                addType = true;\n            }\n            break;\n        case 'array':\n            if (Array.isArray(val)) {\n                addType = true;\n            }\n            break;\n        case 'other':\n            addType = this.currOtherTypeCallback(val, path, parent, parentPropName);\n            break;\n        case 'integer':\n            if (val === Number(val) && isFinite(val) && !(val % 1)) {\n                addType = true;\n            }\n            break;\n        case 'null':\n            if (val === null) {\n                addType = true;\n            }\n            break;\n        }\n        if (addType) {\n            retObj = {path, value: val, parent, parentProperty: parentPropName};\n            this._handleCallback(retObj, callback, 'value');\n            return retObj;\n        }\n    } else if (loc[0] === '`' && val && hasOwnProp.call(val, loc.slice(1))) { // `-escaped property\n        const locProp = loc.slice(1);\n        addRet(this._trace(x, val[locProp], push(path, locProp), val, locProp, callback, true));\n    } else if (loc.includes(',')) { // [name1,name2,...]\n        const parts = loc.split(',');\n        for (const part of parts) {\n            addRet(this._trace(unshift(part, x), val, path, parent, parentPropName, callback));\n        }\n    } else if (!literalPriority && val && hasOwnProp.call(val, loc)) { // simple case--directly follow property\n        addRet(this._trace(x, val[loc], push(path, loc), val, loc, callback, true));\n    }\n\n    // We check the resulting values for parent selections. For parent\n    // selections we discard the value object and continue the trace with the\n    // current val object\n    if (this._hasParentSelector) {\n        for (let t = 0; t < ret.length; t++) {\n            const rett = ret[t];\n            if (rett.isParentSelector) {\n                const tmp = that._trace(\n                    rett.expr, val, rett.path, parent, parentPropName, callback\n                );\n                if (Array.isArray(tmp)) {\n                    ret[t] = tmp[0];\n                    const tl = tmp.length;\n                    for (let tt = 1; tt < tl; tt++) {\n                        t++;\n                        ret.splice(t, 0, tmp[tt]);\n                    }\n                } else {\n                    ret[t] = tmp;\n                }\n            }\n        }\n    }\n    return ret;\n};\n\nJSONPath.prototype._walk = function (loc, expr, val, path, parent, parentPropName, callback, f) {\n    if (Array.isArray(val)) {\n        const n = val.length;\n        for (let i = 0; i < n; i++) {\n            f(i, loc, expr, val, path, parent, parentPropName, callback);\n        }\n    } else if (typeof val === 'object') {\n        for (const m in val) {\n            if (hasOwnProp.call(val, m)) {\n                f(m, loc, expr, val, path, parent, parentPropName, callback);\n            }\n        }\n    }\n};\n\nJSONPath.prototype._slice = function (loc, expr, val, path, parent, parentPropName, callback) {\n    if (!Array.isArray(val)) { return undefined; }\n    const len = val.length, parts = loc.split(':'),\n        step = (parts[2] && parseInt(parts[2])) || 1;\n    let start = (parts[0] && parseInt(parts[0])) || 0,\n        end = (parts[1] && parseInt(parts[1])) || len;\n    start = (start < 0) ? Math.max(0, start + len) : Math.min(len, start);\n    end = (end < 0) ? Math.max(0, end + len) : Math.min(len, end);\n    const ret = [];\n    for (let i = start; i < end; i += step) {\n        const tmp = this._trace(unshift(i, expr), val, path, parent, parentPropName, callback);\n        if (Array.isArray(tmp)) {\n            // This was causing excessive stack size in Node (with or without Babel) against our performance test: `ret.push(...tmp);`\n            tmp.forEach((t) => {\n                ret.push(t);\n            });\n        } else {\n            ret.push(tmp);\n        }\n    }\n    return ret;\n};\n\nJSONPath.prototype._eval = function (code, _v, _vname, path, parent, parentPropName) {\n    if (!this._obj || !_v) { return false; }\n    if (code.includes('@parentProperty')) {\n        this.currSandbox._$_parentProperty = parentPropName;\n        code = code.replace(/@parentProperty/g, '_$_parentProperty');\n    }\n    if (code.includes('@parent')) {\n        this.currSandbox._$_parent = parent;\n        code = code.replace(/@parent/g, '_$_parent');\n    }\n    if (code.includes('@property')) {\n        this.currSandbox._$_property = _vname;\n        code = code.replace(/@property/g, '_$_property');\n    }\n    if (code.includes('@path')) {\n        this.currSandbox._$_path = JSONPath.toPathString(path.concat([_vname]));\n        code = code.replace(/@path/g, '_$_path');\n    }\n    if (code.match(/@([.\\s)[])/)) {\n        this.currSandbox._$_v = _v;\n        code = code.replace(/@([.\\s)[])/g, '_$_v$1');\n    }\n    try {\n        return vm.runInNewContext(code, this.currSandbox);\n    } catch (e) {\n        // eslint-disable-next-line no-console\n        console.log(e);\n        throw new Error('jsonPath: ' + e.message + ': ' + code);\n    }\n};\n\n// PUBLIC CLASS PROPERTIES AND METHODS\n\n// Could store the cache object itself\nJSONPath.cache = {};\n\n/**\n * @param {string[]} pathArr Array to convert\n * @returns {string} The path string\n */\nJSONPath.toPathString = function (pathArr) {\n    const x = pathArr, n = x.length;\n    let p = '$';\n    for (let i = 1; i < n; i++) {\n        if (!(/^(~|\\^|@.*?\\(\\))$/).test(x[i])) {\n            p += (/^[0-9*]+$/).test(x[i]) ? ('[' + x[i] + ']') : (\"['\" + x[i] + \"']\");\n        }\n    }\n    return p;\n};\n\n/**\n * @param {string} pointer JSON Path\n * @returns {string} JSON Pointer\n */\nJSONPath.toPointer = function (pointer) {\n    const x = pointer, n = x.length;\n    let p = '';\n    for (let i = 1; i < n; i++) {\n        if (!(/^(~|\\^|@.*?\\(\\))$/).test(x[i])) {\n            p += '/' + x[i].toString()\n                .replace(/~/g, '~0')\n                .replace(/\\//g, '~1');\n        }\n    }\n    return p;\n};\n\n/**\n * @param {string} expr Expression to convert\n * @returns {string[]}\n */\nJSONPath.toPathArray = function (expr) {\n    const {cache} = JSONPath;\n    if (cache[expr]) { return cache[expr].concat(); }\n    const subx = [];\n    const normalized = expr\n        // Properties\n        .replace(\n            /@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\\(\\)/g,\n            ';$&;'\n        )\n        // Parenthetical evaluations (filtering and otherwise), directly\n        //   within brackets or single quotes\n        .replace(/[['](\\??\\(.*?\\))[\\]']/g, function ($0, $1) {\n            return '[#' + (subx.push($1) - 1) + ']';\n        })\n        // Escape periods and tildes within properties\n        .replace(/\\['([^'\\]]*)'\\]/g, function ($0, prop) {\n            return \"['\" + prop\n                .replace(/\\./g, '%@%')\n                .replace(/~/g, '%%@@%%') +\n                \"']\";\n        })\n        // Properties operator\n        .replace(/~/g, ';~;')\n        // Split by property boundaries\n        .replace(/'?\\.'?(?![^[]*\\])|\\['?/g, ';')\n        // Reinsert periods within properties\n        .replace(/%@%/g, '.')\n        // Reinsert tildes within properties\n        .replace(/%%@@%%/g, '~')\n        // Parent\n        .replace(/(?:;)?(\\^+)(?:;)?/g, function ($0, ups) {\n            return ';' + ups.split('').join(';') + ';';\n        })\n        // Descendents\n        .replace(/;;;|;;/g, ';..;')\n        // Remove trailing\n        .replace(/;$|'?\\]|'$/g, '');\n\n    const exprList = normalized.split(';').map(function (exp) {\n        const match = exp.match(/#(\\d+)/);\n        return !match || !match[1] ? exp : subx[match[1]];\n    });\n    cache[expr] = exprList;\n    return cache[expr];\n};\n\nexport {JSONPath};\n"]}